---
# Set up various system settings
- include_tasks: include-setup-system.yml
  vars:
    oh_my_zsh_theme: agnoster

# Install Homebrew packages
- include_tasks: include-packages-darwin.yml
  tags: packages

# Copy dotfiles to their location
- name: Deploy dotfiles
  copy:
    src: "{{ item.src }}"
    dest: "{{ item.dst }}"
  with_items:
    - { src: kitty, dst: "{{ ansible_env.HOME }}/.config/" }
    - { src: nvim, dst: "{{ ansible_env.HOME }}/.config/" }
    - { src: .tmux.conf, dst: "{{ ansible_env.HOME }}/" }
    - { src: .skhdrc, dst: "{{ ansible_env.HOME }}/" }

- name: Disable special-characters-popup when holding down a key
  command: defaults write -g ApplePressAndHoldEnabled -bool false